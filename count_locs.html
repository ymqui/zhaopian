<html>
<head>
<META http-equiv="Pragma" content="no-cache">
<META http-equiv="Cache-Control" content="no-cache">
<LINK rel="shortcut icon" href="https://ymqui.github.io/photo/thumbnail/favicon.ico">
<script type="text/javascript" language="javaScript" src="https://ymqui.github.io/photo/info/index_birds_orders.js"></SCRIPT>
<script type="text/javascript" language="javaScript" src="https://ymqui.github.io/photo/info/index_birds_names.js"></SCRIPT>
</head>
<body>
<script type="text/javascript" language="javaScript">
<!--

//check to see if any of the locations has little or no use
var tmp = Object.keys(locurl);
var tmp1 = Object.keys(py);
for (var i=0;i<tmp1.length;i++){
    if (typeof py_cnts[tmp1[i]] === 'undefined') py_cnts[tmp1[i]] = 0;
}
py_cnts = sortProperties(py_cnts);
for (var i=0;i<tmp.length;i++){
    if (typeof loc_cnts[tmp[i]] === 'undefined') loc_cnts[tmp[i]] = 0;
}

function sortProperties(obj)
{
    // convert object into array
    var sortable=[];
    for(var key in obj)
        if(obj.hasOwnProperty(key))
            sortable.push([key, obj[key]]); // each item is an array in format [key, value]

    // sort items by value
    sortable.sort(function(a, b)
    { if (a[1]!==b[1]){
         return a[1]-b[1]; // compare numbers
      }else{
         return (a[0]).localeCompare(b[0]);
      }
    });
    return sortable; // array in format [ [ key1, val1 ], [ key2, val2 ], ... ]
}

loc_cnts = sortProperties(loc_cnts);
is_chinese = window.location.href.match(/zhaopian/);

document.write(is_chinese+'<br>');

document.write('<font color="blue"><strong>&nbsp;total bird species:&nbsp;&nbsp;'+birds.length.toString()+'</strong></font><br>');
document.write('<font color="blue"><strong> <br>&nbsp;total bird photos:&nbsp;&nbsp;'+pic_cnts.toString()+'</strong></font><br>');
document.write('<font color="blue"><strong> <br>&nbsp;total misc bird photos:&nbsp;&nbsp;'+misc_cnts.toString()+'</strong></font><br><br>');
document.write('<table>');
document.write('<tr>');
document.write('<td align="left"><font color="blue"><strong>total locations:&nbsp;</strong></font></td><td align="left"><font color="blue"><strong>'+tmp.length.toString()+'</strong></font></td>');
document.write('<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>');
document.write('<td align="left"><font color="blue"><strong>total pinyin:&nbsp;</strong></font></td><td align="left"><font color="blue"><strong>'+tmp1.length.toString()+'</strong></font></td>');
document.write('</tr>');

for (var i=0;i<Math.max(loc_cnts.length,py_cnts.length);i++) {
    document.write('<tr>');
    if (i<loc_cnts.length){
       if (loc_cnts[i][1] ==0){
          txcol = "#FF0000";
       }else if (loc_cnts[i][1]==1){ 
          txcol = "#FFA500";
       }else{
          txcol =  "#0000FF";
       }
       txcol = ' style="color: '+txcol+'">';
       tmp_url = '';
       if (is_chinese){
          if (locurl[loc_cnts[i][0]].length>6){
             if (locurl[loc_cnts[i][0]].length>7) {
                tmp_url = locurl[loc_cnts[i][0]][7];
             }else if (locurl[loc_cnts[i][0]][6].match(/[\u3400-\u9FBF]/)){
                tmp_url = locurl[loc_cnts[i][0]][6];
             }
          }else if (locurl[loc_cnts[i][0]].length>4){
             if (locurl[loc_cnts[i][0]].length>5){ 
                tmp_url = locurl[loc_cnts[i][0]][5];
             }else if (locurl[loc_cnts[i][0]][4].match(/[\u3400-\u9FBF]/)){
                tmp_url = locurl[loc_cnts[i][0]][4];
             }
          }
       }else{
          if (locurl[loc_cnts[i][0]].length>6){
             tmp_url = locurl[loc_cnts[i][0]][6];
          }else if (locurl[loc_cnts[i][0]].length>4){
             tmp_url = locurl[loc_cnts[i][0]][4];
          }
       }
       if (tmp_url.length>0){
          tmp_url = '<a href="'+tmp_url+'" target="_blank"'+txcol+loc_cnts[i][0]+'</a>';
       }else {
          tmp_url = loc_cnts[i][0];
       }
       document.write('<td align="left"'+txcol+tmp_url+':</td><td align="left"'+txcol+loc_cnts[i][1].toString()+'</td>');
    }else{
       document.write('<td></td><td></td>');
    }
    document.write('<td></td>');
    if (i<py_cnts.length){
       if (py_cnts[i][1] ==0){
          fcolor='<td align="center"><font color="red">';
       }else if (py_cnts[i][1]==1){ 
          fcolor='<td align="center"><font color="orange">'
       }else{
          fcolor='<td align="center"><font color="blue">'
       }
       document.write(fcolor+py_cnts[i][0]+'</font></td>'+fcolor+py_cnts[i][1].toString()+'</font></td>');
    }else{
       document.write('<td></td><td></td>');
    }

    document.write('</tr>');
}
document.write('</table>');


//-->
</script>
</body>
</html>